<!--
  Generated template for the RequestPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  
    <ion-navbar color="mcolor">
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
      <ion-title>Request</ion-title>
    </ion-navbar>
  
  </ion-header>
  
  
  <ion-content padding class='content-wrapper'>
    <ion-list>
      <ion-list-header *ngIf="currentUser &&currentUser.role==='ROLE_User'">
        Pending Request
      </ion-list-header>
      <ion-list-header *ngIf="currentUser && currentUser.role==='ROLE_Nurse'">
        Received Request
      </ion-list-header>
      <!-- <ion-item *ngFor="let contract of contracts">
        <ion-label floating>Name: {{ contract.nurseId.profile.name }}</ion-label>
      </ion-item> -->
      <ion-item-sliding class="item-contract" *ngFor="let contract of contracts">
          <ion-item>
        <!-- <div class="img">
          <img *ngIf= "contract.userId.profile.sex==='Ná»¯'" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/91525/AmeliaBR-bw.jpg">
          <img *ngIf= "contract.userId.profile.sex==='Nam'" src="https://pbs.twimg.com/profile_images/889736688624312321/xVAFH9ZH_400x400.jpg">
        </div>
        <div class="info">
          <ion-label class="person" *ngIf="currentUser.role!='ROLE_User'">{{ contract.userId.profile.name }}</ion-label>
          <ion-label class="person" *ngIf="currentUser.role!='ROLE_Nurse'">{{ contract.nurseId.profile.name }}</ion-label>          
          <ion-label class="minor-info" *ngIf="contract.detail">{{ contract.created_at | date: 'dd/MM/yyyy' }}</ion-label>
        </div> -->
        <ion-icon name="person" item-start></ion-icon>
        <ion-label>
          <h2 *ngIf="currentUser.role!='ROLE_User'">{{ contract.userId.profile.name }}</h2>
          <h2 *ngIf="currentUser.role!='ROLE_Nurse'">{{ contract.nurseId.profile.name }}</h2>
          <p></p>
        </ion-label>

        <ion-note item-end>{{ contract.created_at | date:'MMM dd, yyyy' }}</ion-note>
        </ion-item>
        <ion-item-options side="left">
            <!-- <button ion-button (click)="favorite(item)">Favorite</button> -->
            <button ion-button color="danger" (click)="decline(contract._id)">Reject</button>
          </ion-item-options>

          <ion-item-options side="right">
            <button ion-button (click)="approve(contract._id,contract.nurseId._id)" *ngIf="currentUser && currentUser.role==='ROLE_Nurse'">Approve</button>
            <button ion-button color="secondary"  (click)="getDetail(contract)">Detail</button>
          </ion-item-options>
      </ion-item-sliding>
    </ion-list>
  </ion-content>